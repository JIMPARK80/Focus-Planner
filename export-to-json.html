<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON íŒŒì¼ ìƒì„± - Focus Planner</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { color: #667eea; }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #5568d3; }
        pre {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            max-height: 400px;
        }
        .info {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“¥ Focus Planner JSON íŒŒì¼ ìƒì„±ê¸°</h1>
        <div class="info">
            <strong>ì‚¬ìš© ë°©ë²•:</strong><br>
            1. ì´ í˜ì´ì§€ë¥¼ ë¸Œë¼ìš°ì €ì—ì„œ ì—´ê¸°<br>
            2. "localStorageì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ë²„íŠ¼ í´ë¦­<br>
            3. "JSON íŒŒì¼ ë‹¤ìš´ë¡œë“œ" ë²„íŠ¼ í´ë¦­<br>
            4. ë‹¤ìš´ë¡œë“œëœ íŒŒì¼ì„ í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™
        </div>
        <button onclick="loadFromLocalStorage()">localStorageì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°</button>
        <button onclick="downloadJSON()">JSON íŒŒì¼ ë‹¤ìš´ë¡œë“œ</button>
        <button onclick="clearData()">ë°ì´í„° ì§€ìš°ê¸°</button>
        
        <h3>í˜„ì¬ ë°ì´í„°:</h3>
        <pre id="jsonDisplay">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. localStorageì—ì„œ ë¶ˆëŸ¬ì˜¤ì„¸ìš”.</pre>
    </div>

    <script>
        let currentData = null;

        function loadFromLocalStorage() {
            const savedTasks = localStorage.getItem('focusPlannerTasks');
            if (!savedTasks) {
                alert('localStorageì— ì €ì¥ëœ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                document.getElementById('jsonDisplay').textContent = 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.';
                return;
            }

            const tasks = JSON.parse(savedTasks);
            currentData = {
                version: '1.0',
                exportDate: new Date().toISOString(),
                tasks: tasks
            };

            document.getElementById('jsonDisplay').textContent = JSON.stringify(currentData, null, 2);
            alert(`í•  ì¼ ${tasks.length}ê°œë¥¼ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤!`);
        }

        function downloadJSON() {
            if (!currentData) {
                alert('ë¨¼ì € localStorageì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì„¸ìš”.');
                return;
            }

            const jsonString = JSON.stringify(currentData, null, 2);
            const blob = new Blob([jsonString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            
            const dateStr = new Date().toISOString().split('T')[0];
            link.href = url;
            link.download = `tasks.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            alert('tasks.json íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!\ní”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™ì‹œì¼œ ì£¼ì„¸ìš”.');
        }

        function clearData() {
            currentData = null;
            document.getElementById('jsonDisplay').textContent = 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.';
        }
    </script>
</body>
</html>
